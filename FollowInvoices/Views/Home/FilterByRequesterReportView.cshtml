<div style="position: center;">
    <input class="auto-fit-input" value="@ViewBag.ViewName" disabled />
</div>
<div class="form-container">
    <div class="input-wrapper">
        <label>الجهة الطالبة</label>
        <select id="requester" required>
            <option value="" selected></option>
            <option value="إدارة العلاقات العامة">إدارة العلاقات العامة</option>
            <option value="إدارة المشتريات">إدارة المشتريات</option>
            <option value="إدارة المشروعات">إدارة المشروعات</option>
            <option value="إدارة المشروعات ١">إدارة المشروعات ١</option>
            <option value="الادارة الطبية">الادارة الطبية</option>
            <option value="إدارة التشغيل و الصيانة">إدارة التشغيل و الصيانة</option>
            <option value="إدارة الشئون الإدارية">إدارة الشئون الإدارية</option>
            <option value="إدارة الشئون القانونية">إدارة الشئون القانونية</option>
            <option value="إدارة المساحة">إدارة المساحة</option>
            <option value="إدارة تكنولوجيا المعلومات">إدارة تكنولوجيا المعلومات</option>
            <option value="إدارة الشئون المالية">إدارة الشئون المالية</option>
            <option value="إدارة الغطس">إدارة الغطس</option>
            <option value="إدارة الوحدات الديناميكية">إدارة الوحدات الديناميكية</option>
            <option value="إدارة الوحدات الغير ديناميكية">إدارة الوحدات الغير ديناميكية</option>
            <option value="إدارة التخطيط">إدارة التخطيط</option>
            <option value="إدارة الصيانة البرية">إدارة الصيانة البرية</option>
            <option value="إدارة مراقبة وتوكيد الجودة">إدارة مراقبة وتوكيد الجودة</option>
            <option value="إدارة الأعمال البحرية">إدارة الأعمال البحرية</option>
            <option value="إدارة الجمارك">إدارة الجمارك</option>
            <option value="إدارة العلاقات الحكومية">إدارة العلاقات الحكومية</option>
            <option value="مكتب رئيس مجلس الإدارة">مكتب رئيس مجلس الإدارة</option>
            <option value="إدارة الصحة والسلامة المهنية">إدارة الصحة والسلامة المهنية</option>
            <option value="إدارة تنمية الاعمال">إدارة تنمية الاعمال</option>
        </select>
    </div>
    <div class="button-container">
        <button class="custom-btn" onclick="FilterByRequesterReport()">تنفيذ</button>
        <button class="custom-btn" onclick="GoToQueryMainPage()">الرجوع إلي قائمة التقارير</button>
        <button class="custom-btn" onclick="GoToHomePage()">الرجوع إلي القائمة الرئيسية</button>
    </div>
</div>

<script src="/js/jquery-3.7.1.min.js"></script>

<script type="text/javascript">
    function getElementValue(elementId) {
        const element = document.getElementById(elementId);

        if (!element) {
            console.error(`Element with ID ${elementId} not found.`);
            return null;
        }

        // Check if the element is a select dropdown
        if (element.tagName === 'SELECT') {
            return element.options[element.selectedIndex]?.value || '';
        }
        // Check if the element is an input, textarea, or other input-like element
        else if (element.tagName === 'INPUT' || element.tagName === 'TEXTAREA') {
            return element.value;
        }
        // Handle other cases (e.g., div, span, etc.)
        else {
            console.error(`Unsupported element type: ${element.tagName}`);
            return null;
        }
    }
    function GoToQueryMainPage() {
        var url = '@Url.Action("Query", "Home")';
        window.location.href = url;
    }
    function GoToHomePage() {
        var url = '@Url.Action("Index", "Home")';
        // Redirect to the URL
        window.location.href = url;
    }
    function FilterByRequesterReport() {
        var id = getElementValue("requester");
        var url = '@Url.Action("FilterByRequesterReport", "Home")' +
            '?id=' + encodeURIComponent(id);

        // Redirect to the URL
        window.location.href = url;
    }
</script>